4\. Fax cover sheets

  


Requirements

In addition to access by phone call, a request can be submitted via a fax cover sheet. The system will avoid the need for handwriting to improve accuracy and prevent mistakes.

  


The cover sheets will be generated by the software, and can be retrieved initially by using the phone interface.

  


USER SPECIFICATION

To ensure accuracy, the cover sheet will have boxes to mark the desired action:

  * Retrieve document
  * Store document
  * Delete document
  * Print menu items listing
  * Print menu tree
  * Search
  * List most commonly used menu items
  * List recent transmissions



  


It will also have a grid for entering the menu item numbers (for actions #1-6), and a way of specifying date(s) for Compass reports. When faxed in, the system will read the cover sheet using an OCR/OMR technique and interpret the correct action.

  


For #2 (when storing a new item) and #6 (when searching for text), the system will expect a second sheet that contains text. This text will be the name of the document (for #2) or the text to search for (for #6.) As an alternative, the system will support a second cover sheet that contains letters to avoid the need for a word processor.

  


For #2, if the document already exists, the system will reject the new document unless the user fills in a box telling the system to overwrite it.

  


The cover sheet will encode in a watermark the version and type of cover sheet, to allow for updates and enhancements in the future while still supporting old cover sheets.

  


When requesting a document, the cover sheet will allow requesting a document in black & white (the default) or color. When using color, the system will send an email to the correct IByFax email address for the user.

  


PIN-protected documents

For PIN-protected documents, the software can generate a cover sheet with the PIN included in barcode form. This PIN will be in barcode format to prevent someone who happens to glance at the cover sheet from learning the PIN. This cover sheet could then be filed away and used when needed.

  


Regression testing

The system will store all fax cover sheet requests, along with the interpreted information. This will allow improving or change the recognition algorithm for better results in the future, while ensure that existing functionality continues to work.

  


Development Specification

We'll need to have each cover sheet have a type and version #. Use a QR code in the top left corner.

  


Put the PIN (if present) in barcode form in the top right.

  


Overall design for cover sheets:

  * Have a cover sheet definition
    * Groups of regions, specified in terms of units. A unit is one 1000th of the width of the page. Floating point values.
    * Each region has a string value. The value can be placed in the middle of the region, or positioned relative to it.
    * Additionally, there can be labels unrelated to regions
  * Python function to draw regions, including on an existing image.
  * All definitions are surrounded by a black box border.
  * QR code in the top right that stores the version, type, and user?



  


QR code reading: [https://github.com/NaturalHistoryMuseum/pyzbar](https://github.com/NaturalHistoryMuseum/pyzbar)

QR code writing: [https://github.com/mnooner256/pyqrcode](https://github.com/mnooner256/pyqrcode)

[http://dsynflo.blogspot.com/2014/10/opencv-qr-code-detection-and-extraction.html](http://dsynflo.blogspot.com/2014/10/opencv-qr-code-detection-and-extraction.html)

OCR: [https://www.pyimagesearch.com/2017/07/10/using-tesseract-ocr-python/](https://www.pyimagesearch.com/2017/07/10/using-tesseract-ocr-python/)

  


  * Cover sheet generation
    * Regions 5 hours
    * Version QR codes 5 hours
    * PIN Barcodes 4 hours
  * Cover sheet reading
    * Reading values 10 hours
    * OCR 20 hours
  * Menu tree report 2 hours


